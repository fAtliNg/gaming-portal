:root { --bg: #000; --green: #21f36b; --tunnel-w: clamp(320px, 88vmin, 800px); --tunnel-h: calc(var(--tunnel-w) * 0.65); --tunnel-top: 8dvh; --title-fs: clamp(48px, calc(var(--tunnel-w) * 0.12), 100px); }
html, body, #root { height: 100%; }
html, body { overflow: hidden; }
body { margin: 0; background: var(--bg); color: #fff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif; }
.screen { position: relative; min-height: 100dvh; height: 100dvh; width: 100vw; overflow: hidden; transform-origin: center center; }
.center { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; }
.menu { display: flex; flex-direction: column; gap: clamp(12px, calc(var(--tunnel-w) * 0.02), 20px); align-items: center; }
.title-overlay { position: absolute; left: 50%; transform: translateX(-50%); top: calc(var(--tunnel-top) + var(--tunnel-h) * 0.115); width: var(--tunnel-w); text-align: center; font-family: 'Orbitron', system-ui; font-weight: 900; font-size: var(--title-fs); letter-spacing: var(--title-ls); text-transform: uppercase; color: #fff; white-space: nowrap; }
.btn { appearance: none; background: #fff; color: #000; border: none; border-radius: 16px; text-decoration: none; padding: clamp(7px, calc(var(--tunnel-w) * 0.01), 11px) clamp(8px, calc(var(--tunnel-w) * 0.012), 12px); font-family: 'Orbitron', system-ui; font-weight: 700; font-size: clamp(12px, calc(var(--tunnel-w) * 0.028), 22px); cursor: pointer; letter-spacing: 0.16em; text-transform: uppercase; width: clamp(170px, calc(var(--tunnel-w) * 0.28), 360px); text-align: center; box-shadow: 0 6px 16px rgba(0,0,0,0.45); }
.btn:active { transform: translateY(1px); }
.arena { position: absolute; inset: 0; width: 100%; height: 100%; display: block; }

.game-area { position: absolute; left: 50%; transform: translateX(-50%); top: var(--tunnel-top); width: var(--tunnel-w); height: var(--tunnel-h); pointer-events: auto; touch-action: none; }
.highscores-area { position: absolute; left: 50%; transform: translateX(-50%); top: var(--tunnel-top); width: var(--tunnel-w); height: var(--tunnel-h); pointer-events: auto; }
.hs-panel { position: absolute; left: 50%; transform: translateX(-50%); top: calc(var(--tunnel-h) * 0.08); width: calc(var(--tunnel-w) * 0.88); height: calc(var(--tunnel-h) * 0.76); border: 3px solid #fff; border-radius: 16px; background: rgba(0,0,0,0.75); box-shadow: 0 0 10px rgba(255,255,255,0.22), inset 0 0 6px rgba(255,255,255,0.18); }
.hs-title { position: absolute; left: 50%; transform: translateX(-50%); top: clamp(20px, calc(var(--tunnel-h) * 0.06), 60px); width: 100%; text-align: center; font-family: 'Orbitron', system-ui; font-weight: 900; font-size: clamp(24px, calc(var(--tunnel-w) * 0.08), 80px); letter-spacing: 0.18em; color: #fff; }
.hs-table { position: absolute; left: 50%; transform: translateX(-50%); top: clamp(100px, calc(var(--tunnel-h) * 0.24), 140px); width: calc(100% - clamp(40px, calc(var(--tunnel-w) * 0.06), 80px)); height: calc(100% - clamp(160px, calc(var(--tunnel-h) * 0.26), 220px)); }
.hs-header { display: grid; grid-template-columns: 1fr 1fr 1fr; align-items: center; font-family: 'Orbitron', system-ui; font-weight: 900; font-size: clamp(16px, calc(var(--tunnel-w) * 0.04), 42px); letter-spacing: 0.18em; color: #fff; }
.hs-header .col { text-align: center; }
.hs-mainmenu { position: absolute; left: 50%; transform: translateX(-50%); bottom: clamp(12px, calc(var(--tunnel-h) * 0.06), 28px); }
.hs-mainmenu:active { transform: translateX(-50%) translateY(1px); }
.level-overlay { position: absolute; left: 50%; transform: translateX(-50%); top: calc(var(--tunnel-h) * 0.16); width: var(--tunnel-w); text-align: center; font-family: 'Orbitron', system-ui; font-weight: 900; font-size: clamp(28px, calc(var(--tunnel-w) * 0.12), 110px); letter-spacing: 0.18em; color: #fff; }
.game-over-overlay { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: var(--tunnel-w); text-align: center; font-family: 'Orbitron', system-ui; font-weight: 900; font-size: clamp(32px, calc(var(--tunnel-w) * 0.14), 130px); letter-spacing: 0.18em; color: #fff; text-shadow: 0 0 10px rgba(155, 252, 251, 0.35); z-index: 9; pointer-events: none; }
.depth-highlight { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: var(--tunnel-w); height: var(--tunnel-h); border: 2px solid rgb(155, 252, 251); box-shadow: 0 0 10px rgba(155, 252, 251, 0.35), inset 0 0 8px rgba(155, 252, 251, 0.25); z-index: 1; }
.collision-debug { position: absolute; transform: translate(-50%, -50%); border: 2px dashed rgba(155, 252, 251, 0.9); box-shadow: 0 0 10px rgba(155, 252, 251, 0.35); pointer-events: none; z-index: 6; }
.collision-debug.miss { border-color: rgba(255, 80, 80, 0.95); box-shadow: 0 0 10px rgba(255, 80, 80, 0.45); }
.ball { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); --ballD: clamp(40px, calc(var(--tunnel-w) * 0.10), 120px); width: var(--ballD); height: var(--ballD); border-radius: 50%; background: radial-gradient(circle at 35% 35%, #c9ff9e 0%, #9eff8e 28%, #6cf576 52%, #2cdf50 75%, #0fbf42 92%, #0a9b36 100%); box-shadow: 0 0 24px rgba(33, 243, 107, 0.35), inset 0 12px 18px rgba(255,255,255,0.35); z-index: 3; }
.ball.miss { background: radial-gradient(circle at 35% 35%, #ffd0d0 0%, #ffb0b0 28%, #ff8a8a 52%, #ff6b6b 75%, #e84848 92%, #c02020 100%); box-shadow: 0 0 24px rgba(255, 80, 80, 0.45), inset 0 12px 18px rgba(255,255,255,0.28); }
.paddle { position: absolute; transform: translate(-50%, -50%); --pW: calc(var(--tunnel-w) / 5); width: var(--pW); height: calc(var(--pW) * 2 / 3); background: rgba(160, 160, 160, 0.35); border-radius: 22px; border: 3px solid #2151ff; box-shadow: 0 0 0 2px rgba(33,81,255,0.4) inset; --pcw: 24%; --pch: 28%; z-index: 4; }
.p-center { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: var(--pcw); height: var(--pch); border: 2px solid #2151ff; border-radius: 6px; background: rgba(0,0,0,0.2); }
.p-v-top { position: absolute; left: 50%; transform: translateX(-50%); top: 0; width: 2px; height: calc((100% - var(--pch)) / 2); background: rgba(33,81,255,0.8); }
.p-v-bottom { position: absolute; left: 50%; transform: translateX(-50%); top: calc(50% + var(--pch) / 2); width: 2px; height: calc((100% - var(--pch)) / 2); background: rgba(33,81,255,0.8); }
.p-h-left { position: absolute; top: 50%; transform: translateY(-50%); left: 0; height: 2px; width: calc((100% - var(--pcw)) / 2); background: rgba(33,81,255,0.8); }
.p-h-right { position: absolute; top: 50%; transform: translateY(-50%); left: calc(50% + var(--pcw) / 2); height: 2px; width: calc((100% - var(--pcw)) / 2); background: rgba(33,81,255,0.8); }

.paddle-opponent { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); --p2W: calc(var(--inner-w) / 5); width: var(--p2W); height: calc(var(--p2W) * 2 / 3); background: rgba(160, 160, 160, 0.35); border-radius: 18px; border: 3px solid #bd1a1a; box-shadow: 0 0 0 2px rgba(189,26,26,0.45) inset; --pcw: 24%; --pch: 28%; z-index: 2; }
.p2-center { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: var(--pcw); height: var(--pch); border: 2px solid #bd1a1a; border-radius: 6px; background: rgba(0,0,0,0.2); }
.p2-v-top { position: absolute; left: 50%; transform: translateX(-50%); top: 0; width: 2px; height: calc((100% - var(--pch)) / 2); background: rgba(189,26,26,0.85); }
.p2-v-bottom { position: absolute; left: 50%; transform: translateX(-50%); top: calc(50% + var(--pch) / 2); width: 2px; height: calc((100% - var(--pch)) / 2); background: rgba(189,26,26,0.85); }
.p2-h-left { position: absolute; top: 50%; transform: translateY(-50%); left: 0; height: 2px; width: calc((100% - var(--pcw)) / 2); background: rgba(189,26,26,0.85); }
.p2-h-right { position: absolute; top: 50%; transform: translateY(-50%); left: calc(50% + var(--pcw) / 2); height: 2px; width: calc((100% - var(--pcw)) / 2); background: rgba(189,26,26,0.85); }

.p-hit, .p2-hit { pointer-events: none; will-change: opacity, transform; animation: hitPulse 240ms ease-out forwards; }
@keyframes hitPulse { 0% { opacity: 0; transform: scale(0.96); } 30% { opacity: 0.9; transform: scale(1.0); } 100% { opacity: 0; transform: scale(1.05); } }
@keyframes centerFade { 0% { opacity: 0; } 30% { opacity: 0.9; } 100% { opacity: 0; } }

.p-hit.center { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: var(--pcw); height: var(--pch); border-radius: 6px; background: rgba(189, 26, 26, 0.45); box-shadow: inset 0 0 18px rgba(189, 26, 26, 0.35); animation: centerFade 240ms ease-out forwards; z-index: 2; }
.p-hit.bottom-left { position: absolute; left: 0; top: 50%; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 0 0 0 22px; }
.p-hit.bottom-right { position: absolute; left: 50%; top: 50%; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 0 0 22px 0; }
.p-hit.top-left { position: absolute; left: 0; top: 0; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 22px 0 0 0; }
.p-hit.top-right { position: absolute; left: 50%; top: 0; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 0 22px 0 0; }

.p2-hit.center { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: var(--pcw); height: var(--pch); border-radius: 6px; background: rgba(189, 26, 26, 0.45); box-shadow: inset 0 0 18px rgba(189, 26, 26, 0.35); animation: centerFade 240ms ease-out forwards; z-index: 2; }
.p2-hit.bottom-left { position: absolute; left: 0; top: 50%; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 0 0 0 18px; }
.p2-hit.bottom-right { position: absolute; left: 50%; top: 50%; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 0 0 18px 0; }
.p2-hit.top-left { position: absolute; left: 0; top: 0; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 18px 0 0 0; }
.p2-hit.top-right { position: absolute; left: 50%; top: 0; width: 50%; height: 50%; background: rgba(255, 255, 255, 0.8); border-radius: 0 18px 0 0; }

.hud-left, .hud-right { position: absolute; top: clamp(8px, calc(var(--tunnel-w) * 0.012), 14px); display: flex; flex-direction: column; align-items: flex-start; gap: clamp(6px, calc(var(--tunnel-w) * 0.012), 12px); z-index: 7; }
.hud-left { left: clamp(28px, calc(var(--tunnel-w) * 0.08), 80px); }
.hud-right { right: clamp(28px, calc(var(--tunnel-w) * 0.08), 80px); align-items: flex-end; }
.hud-level { font-family: 'Orbitron', system-ui; font-weight: 900; font-size: clamp(18px, calc(var(--tunnel-w) * 0.034), 36px); letter-spacing: 0.18em; color: #78e7ff; text-shadow: 0 0 10px rgba(120, 231, 255, 0.35); }
.hud-score { font-family: 'Orbitron', system-ui; font-weight: 900; font-size: clamp(18px, calc(var(--tunnel-w) * 0.034), 36px); letter-spacing: 0.18em; color: #78e7ff; text-shadow: 0 0 10px rgba(120, 231, 255, 0.35); }
.hud-lives { display: flex; align-items: center; gap: clamp(6px, calc(var(--tunnel-w) * 0.012), 12px); }
.life-dot { width: clamp(10px, calc(var(--tunnel-w) * 0.02), 18px); height: clamp(10px, calc(var(--tunnel-w) * 0.02), 18px); border-radius: 50%; box-shadow: 0 0 12px rgba(255,255,255,0.15); border: 2px solid rgba(255,255,255,0.4); }
.life-dot.red { background: radial-gradient(circle at 35% 35%, #ffd0d0 0%, #ff8080 48%, #e84848 92%, #c02020 100%); border-color: rgba(255, 80, 80, 0.75); }
.life-dot.blue { background: radial-gradient(circle at 35% 35%, #c0d4ff 0%, #96b6ff 40%, #558bff 80%, #2151ff 100%); border-color: rgba(33, 81, 255, 0.75); }

@media (orientation: portrait) {
}

.orient { position: absolute; width: 100%; height: 100%; }

.fs-controls { position: absolute; top: clamp(8px, calc(var(--tunnel-w) * 0.012), 14px); right: clamp(28px, calc(var(--tunnel-w) * 0.08), 80px); display: flex; gap: 10px; z-index: 8; }
.fs-toggle { appearance: none; background: rgba(255,255,255,0.12); color: #fff; border: 1px solid rgba(255,255,255,0.28); border-radius: 12px; padding: 6px 8px; cursor: pointer; opacity: 0.8; box-shadow: 0 6px 16px rgba(0,0,0,0.35); transition: opacity 160ms ease, transform 120ms ease, background 160ms ease; }
.fs-toggle:hover { opacity: 1; background: rgba(255,255,255,0.18); }
.fs-toggle:active { transform: translateY(1px); }
.fs-toggle svg { width: clamp(18px, calc(var(--tunnel-w) * 0.025), 24px); height: clamp(18px, calc(var(--tunnel-w) * 0.025), 24px); display: block; }
